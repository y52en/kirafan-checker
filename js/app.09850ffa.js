(function(e){function t(t){for(var r,a,s=t[0],c=t[1],u=t[2],d=0,l=[];d<s.length;d++)a=s[d],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&l.push(i[a][0]),i[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);f&&f(t);while(l.length)l.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,a=1;a<n.length;a++){var s=n[a];0!==i[s]&&(r=!1)}r&&(o.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},a={app:0},i={app:0},o=[];function s(e){return c.p+"js/"+({}[e]||e)+"."+{"chunk-2d0e2366":"5467802e","chunk-4d5796cf":"0cdd981c","chunk-ff0a75f4":"f7c25760"}[e]+".js"}function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n={"chunk-4d5796cf":1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise((function(t,n){for(var r="css/"+({}[e]||e)+"."+{"chunk-2d0e2366":"31d6cfe0","chunk-4d5796cf":"d6274d1f","chunk-ff0a75f4":"31d6cfe0"}[e]+".css",i=c.p+r,o=document.getElementsByTagName("link"),s=0;s<o.length;s++){var u=o[s],d=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(d===r||d===i))return t()}var l=document.getElementsByTagName("style");for(s=0;s<l.length;s++){u=l[s],d=u.getAttribute("data-href");if(d===r||d===i)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var r=t&&t.target&&t.target.src||i,o=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=r,delete a[e],f.parentNode.removeChild(f),n(o)},f.href=i;var h=document.getElementsByTagName("head")[0];h.appendChild(f)})).then((function(){a[e]=0})));var r=i[e];if(0!==r)if(r)t.push(r[2]);else{var o=new Promise((function(t,n){r=i[e]=[t,n]}));t.push(r[2]=o);var u,d=document.createElement("script");d.charset="utf-8",d.timeout=120,c.nc&&d.setAttribute("nonce",c.nc),d.src=s(e);var l=new Error;u=function(t){d.onerror=d.onload=null,clearTimeout(f);var n=i[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",l.name="ChunkLoadError",l.type=r,l.request=a,n[1](l)}i[e]=void 0}};var f=setTimeout((function(){u({type:"timeout",target:d})}),12e4);d.onerror=d.onload=u,document.head.appendChild(d)}return Promise.all(t)},c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/",c.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],d=u.push.bind(u);u.push=t,u=u.slice();for(var l=0;l<u.length;l++)t(u[l]);var f=d;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";n("85ec")},"555a":function(e,t,n){e.exports=n.p+"img/icon.3b83cba9.png"},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=function(){var e=this,t=this,r=t.$createElement,a=t._self._c||r;return a("v-app",[a("v-app-bar",{staticStyle:{"z-index":"10"},attrs:{app:"",color:"primary",dark:"",height:"40px"}},[a("div",{staticClass:"d-flex align-center"},[a("v-img",{staticClass:"shrink mr-2",attrs:{alt:"Vuetify Logo",contain:"",src:n("555a"),transition:"scale-transition",width:"40"}}),a("span",{staticClass:"title"},[t._v("所持チェッカー")])],1),a("v-spacer"),[a("div",{staticClass:"text-center"},[a("v-dialog",{attrs:{width:"500"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,r=e.attrs;return[a("v-btn",t._g(t._b({attrs:{target:"_blank",icon:""}},"v-btn",r,!1),n),[a("v-icon",[t._v("mdi-cog")])],1)]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",{staticClass:"pb-4"},[a("v-card-title",{staticClass:"headline lighten-2"},[t._v(" キャラアイコン設定 ")]),a("v-divider"),a("span",{staticClass:"mx-3"},[t._v(" 基本サイズ ")]),a("v-text-field",{staticClass:"mx-3",attrs:{label:"サイズ(px)",placeholder:"50",outlined:"",type:"number",value:t.checkerSettings.standardLength,disabled:t.checkerSettings.useColumnLength},on:{input:t.sizeInput}}),a("v-divider"),a("v-checkbox",{staticClass:"mx-3",attrs:{label:"横の表示アイコン数を固定する",value:t.checkerSettings.useColumnLength},on:{input:t.useColumnLengthInput},model:{value:t.checkerSettings.useColumnLength,callback:function(e){t.$set(t.checkerSettings,"useColumnLength",e)},expression:"checkerSettings.useColumnLength"}}),a("v-text-field",{staticClass:"mx-3",attrs:{label:"アイコン数",placeholder:"8",outlined:"",type:"number",value:t.checkerSettings.ColumnLength,disabled:!t.checkerSettings.useColumnLength},on:{input:t.ColumnLengthInput}}),a("v-divider"),a("v-card-title",{staticClass:"headline lighten-2"},[t._v(" インポート/エキスポート ")]),a("v-divider"),a("v-text-field",{staticClass:"mx-2",attrs:{label:"キャラ所持データのインポート"},model:{value:t.input_import,callback:function(e){t.input_import=e},expression:"input_import"}}),a("v-btn",{staticClass:"mt-n2 mb-3 d-flex",staticStyle:{margin:"0 0 0 auto",right:"15px"},attrs:{right:"",elevation:"2"},on:{click:t.importData}},[t._v(" インポート ")]),a("v-divider"),a("v-card-actions",[a("v-row",{attrs:{justify:"center",align:"center"}},[a("v-btn",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.copyStr,expression:"copyStr",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:function(){e.copied=!0},expression:"\n                    () => {\n                      this.copied = true;\n                    }\n                  ",arg:"success"}],staticClass:"mt-3 d-flex text-center",attrs:{text:"",outlined:""}},[t._v(" キャラ所持データをクリップボードにコピー ")])],1)],1)],1)],1)],1)],a("v-btn",{attrs:{target:"_blank",text:"",icon:""},on:{click:t.dlImage}},[a("v-icon",[t._v("mdi-image-move")])],1),[a("v-menu",{scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,r=e.attrs;return[a("v-btn",t._g(t._b({attrs:{icon:""}},"v-btn",r,!1),n),[a("v-icon",[t._v("mdi-dots-vertical")])],1)]}}])},[a("v-list",{attrs:{"max-height":"calc(100vh - 24px)"}},[a("v-list-item",{attrs:{to:"/"}},[a("v-list-item-title",[t._v("Home")])],1),a("v-list-item",{attrs:{to:"/SPweapon"}},[a("v-list-item-title",[t._v("専用武器")])],1)],1)],1)]],2),a("v-main",[t.isDownloading?a("div",{staticClass:"text-center"},[a("v-progress-circular",{staticClass:"ma-3",attrs:{rotate:"-90",value:t.progressCircular,color:"primary"}}),a("br"),t._v(t._s(t.progressStr)+" "),a("br"),t._v(" "+t._s(t.downloadStatus.str)+" ")],1):t._e(),t.isLoaded?a("router-view",{staticClass:"mb-10",attrs:{"chara-list":t.charaList,storage:t.storage,"img-url-list":t.initedImgList,"set-obj-chara":t.setObjChara,"get-obj-chara":t.getObjChara,"get-checker-settings":t.getCheckerSettings},on:{"dl-image":function(e){t.dlImage=e},"update-size":function(e){t.UpdateSize=e}}}):t._e()],1),a("v-dialog",{model:{value:t.Err_noSupportIndexedDB,callback:function(e){t.Err_noSupportIndexedDB=e},expression:"Err_noSupportIndexedDB"}},[a("v-card",{staticClass:"py-5",attrs:{align:"center"}},[t._v(" IndexedDBを使用できないためブラウザにデータを保存できません。 "),a("br"),t._v(" プライベートモードであるかブラウザが古い可能性があります。 ")])],1),a("v-dialog",{model:{value:t.firstAccess,callback:function(e){t.firstAccess=e},expression:"firstAccess"}},[a("v-card",{staticClass:"py-5",attrs:{align:"center"}},[t._v(" アクセスありがとうございます。 "),a("br"),t._v(" 画像の出力は右上の"),a("v-icon",[t._v("mdi-image-move")]),t._v("で行うことができますのでご利用ください。"),a("br"),t._v(" (このメッセージは次回以降表示されません) ")],1)],1),a("v-snackbar",{attrs:{color:"info"},model:{value:t.isNotLoaded,callback:function(e){t.isNotLoaded=e},expression:"isNotLoaded"}},[t._v(" ロード中はダウンロードできません ")]),a("v-snackbar",{model:{value:t.copied,callback:function(e){t.copied=e},expression:"copied"}},[t._v(" コピーしました ")]),a("v-snackbar",{model:{value:t.imported,callback:function(e){t.imported=e},expression:"imported"}},[t._v(" インポートしました ")]),a("v-snackbar",{model:{value:t.Err_invaild_input,callback:function(e){t.Err_invaild_input=e},expression:"Err_invaild_input"}},[t._v(" 入力に誤りがあります ")])],1)},i=[],o=(n("99af"),n("4de4"),n("7db0"),n("4160"),n("d81d"),n("a9e3"),n("d3b7"),n("3ca3"),n("159b"),n("ddb0"),n("96cf"),n("1da1")),s=(n("fb6a"),n("ade3")),c=n("d4ec"),u=n("bee2"),d=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"indexedDB",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"index";Object(c["a"])(this,e),this.storageName=t,this.indexName=n,this.keyPath="KeyName",this.__db}return Object(u["a"])(e,[{key:"init",value:function(){var e=this;return new Promise((function(t,n){e.isSupported=!1;var r=indexedDB.open(e.storageName);r.onblocked=function(e){return n(["onblocked",e])},r.onerror=function(e){return n(["onerror",e])},r.onupgradeneeded=function(t){return e.__createObjStore(t)},r.onsuccess=function(n){e.__db=n.target.result,e.isSupported=!0,t(["onsuccess",n])}}))}},{key:"setItem",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return new Promise((function(t,r){var a;if(Array.isArray(n[0]))a=n[0];else{var i=n[0],o=n[1];a=[[i,o]]}for(var c=a.length,u=e.__getObjStore("readwrite"),d=0;d<a.length;d++){var l,f=a[d][0],h=a[d][1],p=u.put((l={},Object(s["a"])(l,e.keyPath,f),Object(s["a"])(l,"value",h),l));p.onsuccess=function(){c--,0===c&&t()},p.onerror=function(e){return r(["onerror",e])}}}))}},{key:"getItem",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return new Promise((function(t){var r,a=function(){return Array.isArray(n[0])};if(a())r=n[0];else{var i=n[0];r=[i]}for(var o=e.__getObjStore("readonly"),s=r.length,c=new Array(r.length),u=function(e){var n=o.get(r[e]);n.onsuccess=function(){n.result?c[e]=n.result.value:c[e]=void 0,s--,0===s&&(a()?t(c):t(c[0]))}},d=0;d<r.length;d++)u(d)}))}},{key:"removeItem",value:function(e){var t=this;return new Promise((function(n,r){var a=t.__getObjStore("readwrite").delete(e);a.onsuccess=function(e){return n(["onsuccess",e])},a.onerror=function(e){return r(["onerror",e])}}))}},{key:"clear",value:function(){var e=this;return new Promise((function(t,n){e.__db.close();var r=indexedDB.deleteDatabase(e.storageName);r.onsuccess=function(e){return t(["onsuccess",e])},r.onerror=function(e){return n(["onerror",e])}}))}},{key:"getItemForwardMatch",value:function(e){var t=this;return new Promise((function(n,r){var a;"string"===typeof e?a=e.slice(0,-1)+String.fromCharCode(e.slice(-1).charCodeAt()+1):r('The only "type" that can be inputted is "String".');var i=IDBKeyRange.bound(e,a,!1,!0),o=t.__getObjStore("readonly"),s=[],c=o.openCursor(i);c.onsuccess=function(e){var t=e.target.result;t?(s.push(t.value),t.continue()):n(s)},c.onerror=function(e){return r(e)}}))}},{key:"getAllItem",value:function(){var e=this;return new Promise((function(t,n){var r=e.__getObjStore("readonly"),a=r.getAll();a.onsuccess=function(e){return t(e.target.result)},a.onerror=function(e){return n(["onerror"],e)}}))}},{key:"__getObjStore",value:function(e){return this.__db.transaction([this.indexName],e).objectStore(this.indexName)}},{key:"__createObjStore",value:function(e){e.target.result.createObjectStore(this.indexName,{keyPath:this.keyPath})}}]),e}(),l={name:"App",data:function(){return{isPageJumping:!1,dialog:!1,settings:!1,copied:!1,imported:!1,input_import:"",firstAccess:!1,Err_noSupportIndexedDB:!1,Err_invaild_input:!1,isLoaded:!1,isDownloading:!1,downloadStatus:{downloaded:0,max:0,str:""},isNotLoaded:!1,charaList:[],initedImgList:{},storage:void 0,ObjectiveChara:{},checkerSettings:{},dlImage:function(){console.info("loading...")},UpdateSize:function(){}}},computed:{progressCircular:function(){var e=this.downloadStatus;return e.downloaded/e.max*100},progressStr:function(){var e=this.downloadStatus;return"".concat(e.downloaded," / ").concat(e.max)},copyStr:function(){return JSON.stringify(this.ObjectiveChara)}},methods:{sizeInput:function(e){this.setCheckerSettings("standardLength",Number(e)),this.UpdateSize()},useColumnLengthInput:function(e){this.setCheckerSettings("useColumnLength",e),this.UpdateSize()},ColumnLengthInput:function(e){this.setCheckerSettings("ColumnLength",Number(e)),this.UpdateSize()},NowIsLoaded:function(){this.isNotLoaded=!0},setProgress:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:++this.downloadStatus.downloaded,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.downloadStatus.max,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.downloadStatus.str,r=this.downloadStatus;r.downloaded=e,r.max=t,r.str=n},getXHRresponce:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Promise((function(e){var n=t[0],r=t[1]||void 0,a=t[2]||"json",i=new XMLHttpRequest;i.onreadystatechange=function(){4===this.readyState&&200===this.status&&this.response&&(r&&r(),e(this.response))},i.open("GET",n,!0),i.responseType=a,i.send(null)}))},setObjChara:function(e,t){this.$set(this.ObjectiveChara,String(e),t),this.storage.isSupported&&this.storage.setItem("ObjectiveChara",this.ObjectiveChara)},getObjChara:function(){return arguments[0]?this.ObjectiveChara[""+arguments[0]]:this.ObjectiveChara},setCheckerSettings:function(e,t){this.$set(this.checkerSettings,String(e),t),this.storage.setItem("checkerSettings",this.checkerSettings)},getCheckerSettings:function(){return arguments[0]?this.checkerSettings[""+arguments[0]]:this.checkerSettings},importData:function(){try{var e=JSON.parse(this.input_import);if(Array.isArray(e))throw new Error("err");this.ObjectiveChara=e,this.imported=!0,this.storage.isSupported&&this.storage.setItem("ObjectiveChara",this.ObjectiveChara)}catch(t){this.Err_invaild_input=!0}}},mounted:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,r,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.dlImage=e.NowIsLoaded,e.storage=new d,t.next=4,e.storage.init().catch((function(){e.Err_noSupportIndexedDB=!0}));case 4:if(!e.storage.isSupported){t.next=10;break}return t.next=7,e.storage.getItem("visited");case 7:if(t.sent){t.next=10;break}e.firstAccess=!0,e.storage.setItem("visited",!0);case 10:return e.setProgress(0,3,"DBダウンロード中…"),e.isDownloading=!0,n=function(t){return e.getXHRresponce("https://database.kirafan.cn/database/".concat(t,".json"),e.setProgress)},r=["CharacterList","TitleList","NamedList"].map((function(e){return n(e)})),t.next=16,Promise.all(r).then((function(t){e.charaList=t[0],e.titleList=t[1],e.namedList=t[2]}));case 16:if(e.charaList=e.charaList.filter((function(e){return 4===e["m_Rare"]})).filter((function(e){return/1$/.test(e["m_CharaID"])})).map((function(t){return t["TitleID"]=function(){var n=e.namedList.find((function(e){return t["m_NamedType"]===e["m_NamedType"]}));return n["m_TitleType"]}(),t})).map((function(t){return t["sort_TitleID"]=function(){var n=e.titleList.find((function(e){return t["TitleID"]===e["m_TitleType"]}));return n["m_Order"]}(),t})).sort((function(e,t){return e["m_CharaID"]-t["m_CharaID"]})).sort((function(e,t){return e["sort_TitleID"]-t["sort_TitleID"]})),e.charaList.forEach((function(t){var n="Img"+t["m_CharaID"];e.initedImgList[n]=n})),!e.storage.isSupported){t.next=33;break}return a=e.storage.getItem("ObjectiveChara")||{},i=e.storage.getItem("checkerSettings")||{},t.next=23,a;case 23:if(t.t0=t.sent,t.t0){t.next=26;break}t.t0={};case 26:return e.ObjectiveChara=t.t0,t.next=29,i;case 29:if(t.t1=t.sent,t.t1){t.next=32;break}t.t1={};case 32:e.checkerSettings=t.t1;case 33:e.isDownloading=!1,e.isLoaded=!0;case 35:case"end":return t.stop()}}),t)})))()}},f=l,h=(n("034f"),n("2877")),p=n("6544"),v=n.n(p),g=n("7496"),m=n("40dc"),b=n("8336"),_=n("b0af"),k=n("99d9"),S=n("ac7c"),y=n("169a"),w=n("ce7e"),x=n("132d"),C=n("adda"),I=n("8860"),L=n("da13"),O=n("5d23"),j=n("f6c4"),P=n("e449"),D=n("490a"),N=n("0fd9"),A=n("2db4"),T=n("2fa4"),E=n("8654"),V=Object(h["a"])(f,a,i,!1,null,null,null),B=V.exports;v()(V,{VApp:g["a"],VAppBar:m["a"],VBtn:b["a"],VCard:_["a"],VCardActions:k["a"],VCardTitle:k["b"],VCheckbox:S["a"],VDialog:y["a"],VDivider:w["a"],VIcon:x["a"],VImg:C["a"],VList:I["a"],VListItem:L["a"],VListItemTitle:O["b"],VMain:j["a"],VMenu:P["a"],VProgressCircular:D["a"],VRow:N["a"],VSnackbar:A["a"],VSpacer:T["a"],VTextField:E["a"]});var z=n("f309");r["a"].use(z["a"]);var R=new z["a"]({treeShake:!1}),H=n("4eb5"),M=n.n(H),U=n("8c4f");r["a"].use(U["a"]);var $=new U["a"]({routes:[{path:"/",name:"home",component:J("Home")},{path:"/SPweapon",name:"SPweapon",component:J("SPweapon")}]});function J(e){return function(){return n("9dac")("./"+e)}}var F=n("bc3a"),q=n.n(F);M.a.config.autoSetContainer=!0,r["a"].use(M.a),r["a"].config.productionTip=!1,r["a"].config.treeShake=!1,r["a"].prototype.$window=window,r["a"].prototype.$window=window,new r["a"]({vuetify:R,router:$,axios:q.a,render:function(e){return e(B)}}).$mount("#app")},"85ec":function(e,t,n){},"9dac":function(e,t,n){var r={"./Home":["16c0","chunk-ff0a75f4"],"./Home/":["16c0","chunk-ff0a75f4"],"./Home/index":["16c0","chunk-ff0a75f4"],"./Home/index.vue":["16c0","chunk-ff0a75f4"],"./ImageRecognize":["c63a","chunk-4d5796cf"],"./ImageRecognize/":["c63a","chunk-4d5796cf"],"./ImageRecognize/index":["c63a","chunk-4d5796cf"],"./ImageRecognize/index.vue":["c63a","chunk-4d5796cf"],"./SPweapon":["7e79","chunk-2d0e2366"],"./SPweapon/":["7e79","chunk-2d0e2366"],"./SPweapon/index":["7e79","chunk-2d0e2366"],"./SPweapon/index.vue":["7e79","chunk-2d0e2366"]};function a(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],a=t[0];return n.e(t[1]).then((function(){return n(a)}))}a.keys=function(){return Object.keys(r)},a.id="9dac",e.exports=a}});
//# sourceMappingURL=app.09850ffa.js.map